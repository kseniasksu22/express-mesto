{"version":3,"sources":["images/Vector.svg","components/Header.js","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoImg","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onClick","onCardClick","name","type","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","noValidate","title","children","onSubmit","submitButtonName","submitButtonText","onClose","ImagePopup","api","config","this","_url","baseUrl","_headers","headers","proms","then","res","ok","json","Promise","reject","Error","status","respon","fetch","_responseServer","data","method","body","JSON","stringify","id","pic","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","onChange","target","value","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","inputCardName","inputCardLink","onAddPlacePopup","App","isEditAvatarPopupOpen","setisEditAvatarPopupOpen","isEditProfilePopupOpen","setisEditProfilePopupOpen","isAddPlacePopupOpen","setisAddPlacePopupOpen","selectedCard","setselectedCard","setCurrentUser","setCards","closeAllPopups","escHandle","keyCode","closeByOverlay","classList","contains","all","getUserInfo","getAllCards","values","userData","initialCards","catch","err","console","log","document","addEventListener","removeEventListener","Provider","requestLike","newCard","newCards","c","deleteLike","error","putLike","deleteCard","filter","item","postNewCard","setUserInfo","getAvatarInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f478e5c2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.a307e1c4.svg\";","import logoImg from \"../images/Vector.svg\";\r\nimport React from \"react\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__icon\" src={logoImg} alt=\"Место\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\nfunction Card(props) {\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `element__delete ${\r\n    isOwn ? \"element__delete\" : \"element__delete_inactive\"\r\n  }`;\r\n  let isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `element__like ${\r\n    isLiked ? \"element__like_clicked\" : \"element__like\"\r\n  }`;\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n  return (\r\n    <div className=\"element\">\r\n      <img\r\n        className=\"element__image\"\r\n        src={props.card.link}\r\n        alt=\"\"\r\n        onClick={handleClick}\r\n        alt={props.card.name}\r\n      />\r\n      <div className=\"element__wrapper\">\r\n        <h2 className=\"element__caption\">{props.card.name}</h2>\r\n        <button\r\n          type=\"button\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n        <button\r\n          type=\"button\"\r\n          className={cardLikeButtonClassName}\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <div className=\"element__like-counter\">{props.card.likes.length}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <button\r\n          className=\"profile__button\"\r\n          onClick={props.onEditAvatar}\r\n        ></button>\r\n        <img\r\n          className=\"profile__avatar\"\r\n          src={currentUser.avatar}\r\n          alt=\" Аватарка\"\r\n        />\r\n        <div className=\"profile-info\">\r\n          <div className=\"profile-info__wrapper\">\r\n            <h1 className=\"profile-info__name\">{currentUser.name}</h1>\r\n            <p className=\"profile-info__description\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile-info__edit-button\"\r\n            onClick={props.onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {props.cards.map((card) => (\r\n          <Card\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            key={card._id}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__item\"> &#169; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup-${props.name} popup-form popup ${\r\n        !props.isOpen ? \"\" : \"popup-form_showed\"\r\n      }`}\r\n    >\r\n      <form className=\"popup-form__wrapper popup-edit__form\" noValidate>\r\n        <h3 className=\"popup-form__title\">{props.title}</h3>\r\n        {props.children}\r\n        <button\r\n          onClick={props.onSubmit}\r\n          type=\"submit\"\r\n          className={`popup-form__save-button popup-${props.submitButtonName}`}\r\n        >\r\n          {props.submitButtonText}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup-form__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup-card popup ${!props.card ? \"\" : \"popup-form_showed\"}`}\r\n    >\r\n      <figure className=\"popup-card__wrapper\">\r\n        <img\r\n          className=\"popup-card__image\"\r\n          src={props.card ? props.card.link : \"\"}\r\n          alt={props.card ? props.card.name : \"\"}\r\n        />\r\n        <figcaption className=\"popup-card__caption\">\r\n          {props.card ? props.card.name : \"\"}\r\n        </figcaption>\r\n        <button\r\n          className=\"popup-card__button popup-form__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\n\r\nexport class Api {\r\n  constructor(config) {\r\n    this._url = config.baseUrl;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _responseServer(proms) {\r\n    return proms.then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    const respon = fetch(`${this._url}users/me`, {\r\n      headers: this._headers,\r\n    });\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    const respon = fetch(`${this._url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    });\r\n\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  getAllCards() {\r\n    const respon = fetch(`${this._url}cards`, {\r\n      headers: this._headers,\r\n    });\r\n\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  postNewCard(data) {\r\n    const respon = fetch(`${this._url}cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        link: data.link,\r\n        name: data.name,\r\n      }),\r\n    });\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    const respon = fetch(`${this._url}cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    });\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  putLike(id) {\r\n    const respon = fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    });\r\n\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    const respon = fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    });\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  getAvatarInfo(pic) {\r\n    const respon = fetch(`${this._url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: pic.avatar,\r\n      }),\r\n    });\r\n\r\n    return this._responseServer(respon);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-18/\",\r\n  headers: {\r\n    authorization: \"5394c212-7c5a-49a7-aa6c-96fe3c097bff\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../components/PopupWithForm\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleAboutChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleUsInfoSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"form-edit\"\r\n      title=\"Редактировать профиль\"\r\n      submitButtonText=\" Сохранить\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleUsInfoSubmit}\r\n    >\r\n      <>\r\n        <input\r\n          placeholder={name}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          className=\"popup-form__input popup-form__input-name\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"error\" id=\"name-error\"></span>\r\n        <input\r\n          placeholder={description}\r\n          type=\"text\"\r\n          name=\"description\"\r\n          className=\"popup-form__input popup-form__input-description\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          onChange={handleAboutChange}\r\n        />\r\n        <span className=\"error\" id=\"description-error\"></span>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputRef = React.useRef();\r\n\r\n  function handleAvatarSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n    inputRef.current.value = \"\";\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"form-avatar\"\r\n      title=\"Обновить аватар\"\r\n      submitButtonText=\" Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleAvatarSubmit}\r\n    >\r\n      <>\r\n        <input\r\n          ref={inputRef}\r\n          type=\"url\"\r\n          name=\"avatar\"\r\n          className=\"popup-form__input popup-form-avatar__input\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span className=\"error\" id=\"linkAvatar-error\">\r\n          Вставьте, пожалуйста, ссылку на картинку\r\n        </span>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\nfunction AddPlacePopup(props) {\r\n  const inputCardName = React.useRef();\r\n  const inputCardLink = React.useRef();\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlacePopup({\r\n      link: inputCardLink.current.value,\r\n      name: inputCardName.current.value,\r\n    });\r\n    inputCardLink.current.value = \"\";\r\n    inputCardName.current.value = \"\";\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"form-new\"\r\n      title=\"Новое место\"\r\n      submitButtonText=\" Создать\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleAddPlaceSubmit}\r\n    >\r\n      <>\r\n        <input\r\n          ref={inputCardName}\r\n          type=\"text\"\r\n          name=\"nameCard\"\r\n          placeholder=\"Название\"\r\n          className=\"popup-form__input popup-form-new__input-name\"\r\n          required\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n        />\r\n        <span className=\"error\" id=\"nameCard-error\"></span>\r\n        <input\r\n          ref={inputCardLink}\r\n          type=\"url\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          className=\"popup-form__input popup-form-new__input-link\"\r\n          required\r\n        />\r\n        <span className=\"error\" id=\"link-error\"></span>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setisEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isEditProfilePopupOpen, setisEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setisAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setselectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const escCode = 27;\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getAllCards()])\n      .then((values) => {\n        const [userData, initialCards] = values;\n        setCards(initialCards);\n        setCurrentUser(userData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    let isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    function requestLike(newCard) {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      setCards(newCards);\n    }\n    if (!isLiked) {\n      api\n        .putLike(card._id)\n        .then(requestLike)\n        .catch((err) => {\n          console.error(err);\n        });\n    } else {\n      api\n        .deleteLike(card._id)\n        .then(requestLike)\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n  }\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCard = cards.filter((item) => item !== card);\n        setCards(newCard);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setisEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setisEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setisAddPlacePopupOpen(true);\n  }\n  function handleCardClick(card) {\n    setselectedCard(card);\n  }\n  function closeAllPopups() {\n    setisEditAvatarPopupOpen(false);\n    setisAddPlacePopupOpen(false);\n    setisEditProfilePopupOpen(false);\n    setselectedCard(null);\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .getAvatarInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n  function handleSubmitCard(data) {\n    api\n      .postNewCard(data)\n      .then((data) => {\n        setCards([data, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n  function escHandle(e) {\n    if (e.keyCode === escCode) {\n      closeAllPopups();\n    }\n  }\n  function closeByOverlay(e) {\n    if (e.target.classList.contains(\"popup\")) {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    document.addEventListener(\"keydown\", escHandle);\n    document.addEventListener(\"mousedown\", closeByOverlay);\n    return () => {\n      document.removeEventListener(\"keydown\", escHandle);\n      document.removeEventListener(\"mousedown\", closeByOverlay);\n    };\n  });\n\n  return (\n    <div>\n      <Header />\n      <CurrentUserContext.Provider value={currentUser}>\n        <Main\n          onEditAvatar={handleEditAvatarClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          cards={cards}\n        />\n        <AddPlacePopup\n          onClose={closeAllPopups}\n          isOpen={isAddPlacePopupOpen}\n          onAddPlacePopup={handleSubmitCard}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <PopupWithForm\n          name=\"deleted-card\"\n          title=\"Вы уверены?\"\n          submitButtonText=\" Да\"\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}